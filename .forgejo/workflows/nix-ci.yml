# This file was autogenerated by actions.nix. Do not edit it manually.
# To make changes, edit the workflow definition in your flake's actions-nix configuration
# (typically under flake.actions-nix.workflows.".forgejo/workflows/nix-ci.yml") and run:
#   nix run .#render-workflows
# Or commit to trigger the pre-commit hook if enabled.
concurrency:
  cancel-in-progress: false
  group: nix-ci-${{ forgejo.ref_name }}
jobs:
  build-blackwell:
    name: 'Build: blackwell'
    runs-on: blackwell
    steps:
    - name: Checkout
      uses: actions/checkout@v5
    - name: 'Build: blackwell'
      run: nix-fast-build --flake .#nixosConfigurations.blackwell.config.system.build.toplevel
        --skip-cached --no-nom --option builders "" --option accept-flake-config true
  build-date:
    name: 'Build: date'
    runs-on: strong
    steps:
    - name: Checkout
      uses: actions/checkout@v5
    - name: 'Build: date'
      run: nix-fast-build --flake .#nixosConfigurations.date.config.system.build.toplevel
        --skip-cached --no-nom --option builders "" --option accept-flake-config true
  build-kiwi:
    name: 'Build: kiwi'
    runs-on: kiwi
    steps:
    - name: Checkout
      uses: actions/checkout@v5
    - name: 'Build: kiwi'
      run: nix-fast-build --flake .#nixosConfigurations.kiwi.config.system.build.toplevel
        --skip-cached --no-nom --option builders "" --option accept-flake-config true
  build-pear:
    name: 'Build: pear'
    runs-on: strong
    steps:
    - name: Checkout
      uses: actions/checkout@v5
    - name: 'Build: pear'
      run: nix-fast-build --flake .#nixosConfigurations.pear.config.system.build.toplevel
        --skip-cached --no-nom --option builders "" --option accept-flake-config true
  build-plum:
    name: 'Build: plum'
    runs-on: plum
    steps:
    - name: Checkout
      uses: actions/checkout@v5
    - name: 'Build: plum'
      run: nix-fast-build --flake .#nixosConfigurations.plum.config.system.build.toplevel
        --skip-cached --no-nom --option builders "" --option accept-flake-config true
  build-sloe:
    name: 'Build: sloe'
    runs-on: sloe
    steps:
    - name: Checkout
      uses: actions/checkout@v5
    - name: 'Build: sloe'
      run: nix-fast-build --flake .#nixosConfigurations.sloe.config.system.build.toplevel
        --skip-cached --no-nom --option builders "" --option accept-flake-config true
  build-yuzu:
    name: 'Build: yuzu'
    runs-on: strong
    steps:
    - name: Checkout
      uses: actions/checkout@v5
    - name: 'Build: yuzu'
      run: nix-fast-build --flake .#nixosConfigurations.yuzu.config.system.build.toplevel
        --skip-cached --no-nom --option builders "" --option accept-flake-config true
  check-deadnix:
    name: 'Check: deadnix'
    runs-on: strong
    steps:
    - name: Checkout
      uses: actions/checkout@v5
    - name: 'Check: deadnix'
      run: nix-fast-build --flake .#checks.x86_64-linux.deadnix --skip-cached --no-nom
        --option builders "" --option accept-flake-config true
  check-nix-paths:
    name: 'Check: legacy imports'
    runs-on: strong
    steps:
    - name: Checkout
      uses: actions/checkout@v5
    - name: 'Check: legacy imports'
      run: nix-fast-build --flake .#checks.x86_64-linux.nix-path --skip-cached --no-nom
        --option builders "" --option accept-flake-config true
  check-statix:
    name: 'Check: statix'
    runs-on: strong
    steps:
    - name: Checkout
      uses: actions/checkout@v5
    - name: 'Check: statix'
      run: nix-fast-build --flake .#checks.x86_64-linux.statix --skip-cached --no-nom
        --option builders "" --option accept-flake-config true
name: Nix CI
'on':
  pull_request:
    paths-ignore:
    - README.md
    - LICENSE.md
    - .forgejo/workflows/*
  push:
    paths-ignore:
    - README.md
    - LICENSE.md
    - .forgejo/workflows/*
